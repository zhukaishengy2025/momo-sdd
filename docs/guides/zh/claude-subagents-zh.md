# Claude Code Subagents å·¥ä½œæµ (Spec-Quick æ ¸å¿ƒ)

> ğŸ“– **English version here:** [Claude Code Subagents Workflow](claude-subagents.md)

æœ¬æŒ‡å—ä»‹ç»äº† **Claude Code Subagents** å®‰è£…ç›®æ ‡ (`--claude-agent` / `--claude-code-agent`) å¦‚ä½•é€šè¿‡ `spec-quick` å‘½ä»¤åŠ é€Ÿè§„æ ¼å·¥ä½œæµã€‚è™½ç„¶å…¶ä»– `/kiro:*` å‘½ä»¤ä¹Ÿä¼šå¤ç”¨ç›¸åŒçš„ Subagentsï¼Œä½†æœ¬æ–‡æ¡£é‡ç‚¹ä»‹ç» `spec-quick` çš„ç¼–æ’é€»è¾‘ï¼Œå› ä¸ºå®ƒæ˜¯å”¯ä¸€å…·æœ‰ç‹¬ç«‹æ§åˆ¶é€»è¾‘çš„ Subagent å¯ç”¨å‘½ä»¤ã€‚

## å®‰è£…å›é¡¾ (Installation Recap)

- ä½¿ç”¨ `npx cc-sdd@latest --claude-agent --lang <code>` è¿›è¡Œå®‰è£…ã€‚
- æ–‡ä»¶å°†è¢«æ”¾ç½®åœ¨ï¼š
  - `.claude/commands/kiro/` â€“ 12 ä¸ªé«˜å±‚å‘½ä»¤ï¼ˆè§„æ ¼ã€å¼•å¯¼ã€éªŒè¯ï¼‰ã€‚
  - `.claude/agents/kiro/` â€“ 9 ä¸ªç”¨äºæ·±åº¦åˆ†æã€æ–‡ä»¶æ‰©å±•å’ŒæŠ¥å‘Šçš„ Subagent å®šä¹‰ã€‚
  - `CLAUDE.md` â€“ å¿«é€Ÿå…¥é—¨å’Œä½¿ç”¨æç¤ºã€‚

## `spec-quick` å¦‚ä½•ç¼–æ’ Subagents

`spec-quick` æ˜¯ä¸€ä¸ªå®å‘½ä»¤ï¼Œå®ƒæŒ‰é¡ºåºè°ƒç”¨å››ä¸ª Subagentsï¼š`spec-init`ï¼ˆå†…ç½®ï¼‰ã€`spec-requirements`ã€`spec-design` å’Œ `spec-tasks`ï¼Œä»¥åœ¨ä¸€æ¬¡è¿è¡Œä¸­ç”Ÿæˆå…¨æ–°çš„è§„æ ¼ã€‚åœ¨å†…éƒ¨ï¼Œè¯¥å‘½ä»¤éµå¾ª `tools/cc-sdd/templates/agents/claude-code-agent/commands/spec-quick.md` ä¸­å®šä¹‰çš„æŒ‡ä»¤ã€‚

### æ¨¡å¼ (Modes)

- **äº¤äº’æ¨¡å¼ (Interactive - é»˜è®¤)** â€“ åœ¨æ¯ä¸ªé˜¶æ®µååœæ­¢å¹¶è¯¢é—®æ˜¯å¦ç»§ç»­ã€‚é€‚åˆé¦–æ¬¡è¿è¡Œæˆ–å¤æ‚åŠŸèƒ½ã€‚
- **è‡ªåŠ¨æ¨¡å¼ (Automatic - `--auto`)** â€“ æ— éœ€æš‚åœå³å¯è¿è¡Œæ‰€æœ‰é˜¶æ®µï¼Œå¹¶ä½¿ç”¨ `TodoWrite` è·Ÿè¸ªè¿›åº¦ã€‚é€‚åˆå¿«é€Ÿè‰å›¾æˆ–ä½é£é™©åŠŸèƒ½ã€‚

ä¸¤ç§æ¨¡å¼éƒ½ä¼šè·³è¿‡ `/kiro:validate-gap` å’Œ `/kiro:validate-design`ã€‚å¦‚æœåŠŸèƒ½å…·æœ‰é£é™©ï¼Œå®Œæˆæ¶ˆæ¯ä¼šæé†’æ‚¨æ‰‹åŠ¨è¿è¡Œè¿™äº›å‘½ä»¤ã€‚

### é˜¶æ®µåˆ†è§£ (Phase Breakdown)

| é˜¶æ®µ | è§¦å‘çš„ Subagent | å‘ç”Ÿäº†ä»€ä¹ˆ |
|-------|--------------------|--------------|
| 1. åˆå§‹åŒ– | å†…ç½®æŒ‡ä»¤ (æ—  Subagent) | åˆ›å»º `.kiro/specs/{feature}/`ï¼Œå¹¶ä»æ¨¡æ¿å†™å…¥ `spec.json` + `requirements.md` éª¨æ¶ã€‚TodoWrite å°†â€œåˆå§‹åŒ–è§„æ ¼ (Initialize spec)â€æ ‡è®°ä¸ºå·²å®Œæˆã€‚ |
| 2. éœ€æ±‚ | `agents/spec-requirements.md` | è¿è¡Œ `/kiro:spec-requirements {feature}` æ¥å¡«å…… `requirements.md`ã€‚åœ¨è‡ªåŠ¨æ¨¡å¼ä¸‹ï¼Œå¿½ç•¥æ¥è‡ªè¯¥ Subagent çš„â€œä¸‹ä¸€æ­¥â€æç¤ºå¹¶ç«‹å³ç»§ç»­ã€‚ |
| 3. è®¾è®¡ | `agents/spec-design.md` | æ‰§è¡Œ `/kiro:spec-design {feature} -y`ï¼Œç”Ÿæˆ/æ›´æ–° `research.md`ï¼ˆå¦‚æœéœ€è¦ï¼‰å’Œ `design.md`ã€‚TodoWrite ç°åœ¨æ ‡è®°ä¸‰ä¸ªé˜¶æ®µå·²å®Œæˆã€‚ |
| 4. ä»»åŠ¡ | `agents/spec-tasks.md` | è°ƒç”¨ `/kiro:spec-tasks {feature} -y` ä»¥æ„å»ºåŒ…å«éœ€æ±‚è¦†ç›–å’Œ P æ³¢æ ‡ç­¾çš„ `tasks.md`ã€‚å®Œæˆåï¼ŒTodoWrite è¾¾åˆ° 4/4 å®Œæˆï¼Œ`spec-quick` æ‰“å°æœ€ç»ˆæ‘˜è¦ã€‚ |

åœ¨è‡ªåŠ¨æ¨¡å¼ä¸‹ï¼Œå‘½ä»¤æ°¸è¿œä¸ä¼šæš‚åœï¼Œå³ä½¿ Subagents å‘å‡ºäº†ç”¨äºç‹¬ç«‹ä½¿ç”¨çš„â€œä¸‹ä¸€æ­¥â€æŒ‡ä»¤ã€‚äº¤äº’æ¨¡å¼åœ¨æ¯ä¸ªé˜¶æ®µåéƒ½ä¼šæç¤ºï¼ˆâ€œç»§ç»­éœ€æ±‚åˆ†æï¼Ÿâ€ã€â€œç»§ç»­è®¾è®¡ï¼Ÿâ€ç­‰ï¼‰ã€‚

### äº§å‡ºä¸è·³è¿‡çš„å…³å¡ (Outputs and Skipped Gates)

å®Œæˆåï¼Œæ‚¨å°†è·å¾—ï¼š

- `spec.json` (å…ƒæ•°æ®)
- `requirements.md`
- `design.md` (åŒ…å«åŸºäºç ”ç©¶çš„å†³ç­–)
- `tasks.md` (æ”¯æŒå¹¶è¡Œæ‰§è¡Œçš„è®¡åˆ’)

å®ƒ**ä¸ä¼š**åšçš„äº‹æƒ…ï¼š
- æ—  `/kiro:validate-gap` é›†æˆæ£€æŸ¥
- æ—  `/kiro:validate-design` è´¨é‡é—¨ç¦
- æ—  `/kiro:validate-impl` (å°šæœªå¼€å§‹å®ç°)

å¯¹äºæ£•åœ°é¡¹ç›®ï¼ˆç°æœ‰ä»£ç åº“ï¼‰ï¼Œè¯·è®¡åˆ’è‡³å°‘æ‰‹åŠ¨è¿è¡Œå‰ä¸¤ä¸ªéªŒè¯å‘½ä»¤ã€‚

### æ‰‹åŠ¨ Subagent è°ƒç”¨ (Manual Subagent Invocation)

éœ€è¦é‡æ–°è¿è¡ŒæŸä¸€ä¸ªé˜¶æ®µï¼Ÿåœ¨ Claude Code èŠå¤©ä¸­æåŠ `@agents-spec-design`ã€`@agents-spec-tasks` ç­‰ã€‚è¿™äº›åˆ«ååœ¨å®‰è£…æœŸé—´ç”Ÿæˆï¼Œå¹¶ç›´æ¥æ˜ å°„åˆ° `.claude/agents/kiro/*.md`ã€‚

## æ¨èä½¿ç”¨æ¨¡å¼ (Recommended Usage Pattern)

1. è¿è¡Œ `npx cc-sdd@latest --claude-agent --lang <code>` ä»¥ç¡®ä¿ Subagent èµ„æºå­˜åœ¨ã€‚
2. é€šè¿‡ `/kiro:steering`ï¼ˆä»¥åŠå¯é€‰çš„ `/kiro:steering-custom`ï¼‰å‡†å¤‡é¡¹ç›®è®°å¿†ï¼Œä»¥ä¾¿ Subagents ç»§æ‰¿å‡†ç¡®çš„æ¶æ„/äº§å“è§„åˆ™ã€‚
3. ä½¿ç”¨ `spec-quick <feature> [--auto]` è¿›è¡Œå¿«é€Ÿè‰ç¨¿ï¼Œç„¶ååƒæ‰‹åŠ¨æµç¨‹ä¸€æ ·å®¡æŸ¥ `requirements.md`ã€`design.md` å’Œ `tasks.md`ã€‚
4. å¦‚æœåŠŸèƒ½æ¶‰åŠç°æœ‰ç³»ç»Ÿæˆ–å…³é”®è¾¹ç•Œï¼Œè¯·æ‰‹åŠ¨è¿è¡ŒéªŒè¯å‘½ä»¤ã€‚
5. è§„æ ¼è·å¾—æ‰¹å‡†åï¼Œç»§ç»­æ‰§è¡Œ `/kiro:spec-impl` å’Œ `/kiro:spec-status`ã€‚

## è‡ªå®šä¹‰ Subagent è¡Œä¸º (Customising Subagent Behaviour)

1. **ä»å…±äº«æ¨¡æ¿/è§„åˆ™å¼€å§‹** â€“ æ›´æ–° `{{KIRO_DIR}}/settings/templates/*.md` å’Œ `{{KIRO_DIR}}/settings/rules/*.md` ä»¥åæ˜ å›¢é˜Ÿç‰¹å®šçš„æ£€æŸ¥æ¸…å•æˆ–å®¡æŸ¥è§‚ç‚¹ã€‚è¿™æ ·ï¼Œæ‰€æœ‰ Agent å’Œ Subagent éƒ½å¯ä»¥å‚è€ƒç›¸åŒçš„åŸºç¡€ä¿¡æ¯ã€‚
2. **å¦‚æœ‰å¿…è¦ï¼Œè°ƒæ•´ Subagent æç¤ºè¯** â€“ åœ¨ `.claude/agents/kiro/*.md` ä¸­æ·»åŠ å…¬å¸ç‰¹å®šçš„å¯å‘å¼æ–¹æ³•ï¼ˆä¼˜å…ˆçº§åˆ’åˆ†ã€é£é™©åˆ†ç±»ã€æµ‹è¯•ç­–ç•¥ç­‰ï¼‰ã€‚
3. **è°ƒæ•´å‘½ä»¤è§¦å‘å™¨** â€“ ç¼–è¾‘ `.claude/commands/kiro/*.md` çš„ `call_subagent` éƒ¨åˆ†ï¼Œæ§åˆ¶è°ƒç”¨æ¡ä»¶æˆ–æ·»åŠ é¢å¤–çš„æŠ¤æ ã€‚
4. **ä¿æŒæç¤ºè¯ç®€æ´** â€“ Task Tool çš„ä¸Šä¸‹æ–‡é•¿åº¦æœ‰é™ï¼Œå› æ­¤è¯·å°†è¯¦ç»†è¯´æ˜æ”¾åœ¨æ¨¡æ¿/è§„åˆ™ç«¯ï¼Œè€Œ Subagent æç¤ºè¯ä»…è®°å½•è¦ç‚¹ã€‚

## æ•…éšœæ’é™¤ (Troubleshooting)

- **Subagent æœªè§¦å‘** â€“ ç¡®ä¿å·²ä½¿ç”¨ `--claude-agent` æ ‡å¿—è¿›è¡Œå®‰è£…ï¼Œå¹¶ä¸” `.claude/agents/kiro/` å­˜åœ¨ã€‚
- **åˆ†æçš„æ–‡ä»¶è¿‡å¤š** â€“ åœ¨ç›¸å…³çš„ Subagent æç¤ºè¯ä¸­ç¼–è¾‘æ–‡ä»¶æ¨¡å¼æ‰©å±•æ­¥éª¤ä»¥ç¼©å°æœç´¢èŒƒå›´ã€‚
- **äº§å‡ºä¸æ¨¡æ¿ä¸ç¬¦** â€“ æ›´æ–° `{{KIRO_DIR}}/settings/templates`ï¼Œä½¿ Subagent æ‘˜è¦æŒ‡å‘æœ€æ–°çš„æ–‡æ¡£éƒ¨åˆ†ã€‚

## å¦è¯·å‚é˜… (See Also)

- [è§„æ ¼é©±åŠ¨å¼€å‘å·¥ä½œæµ (Spec-Driven Development Workflow)](spec-driven-zh.md)
- [é¡¹ç›® README å®‰è£…çŸ©é˜µ](../../README_zh.md#-æ”¯æŒçš„ç¼–ç -agent)
